{"remainingRequest":"/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/src/components/ProxyDemo.vue?vue&type=template&id=10fba61e","dependencies":[{"path":"/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/src/components/ProxyDemo.vue","mtime":1639026951100},{"path":"/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0icHJveHktZGVtbyI+CiAgICA8c3Bhbj5wZXJzb24ubmFtZToge3sgcGVyc29uLm5hbWUgfX08L3NwYW4+ICZuYnNwOwogICAgPGJ1dHRvbiBAY2xpY2s9ImdldEF0dHIiPuivu+WPliBwcm94eSDlsZ7mgKc8L2J1dHRvbj4gJm5ic3A7CiAgICA8YnV0dG9uIEBjbGljaz0ic2V0QXR0cignY2hlbiB4aW4nKSI+CiAgICAgIOiuvue9riBwcm94eSDlsZ7mgKduYW1lIOWAvOS4uiBjaGVuIHhpbgogICAgPC9idXR0b24+CiAgICAmbmJzcDsKICAgIDxidXR0b24gQGNsaWNrPSJyZXNldFBlcnNvbiI+6YeN572uIHBlcnNvbiBuYW1lIOWxnuaApzwvYnV0dG9uPgogIDwvZGl2Pgo="},{"version":3,"sources":["/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/src/components/ProxyDemo.vue"],"names":[],"mappings":";EASE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACjD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACnD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAClC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACR,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACxD,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/src/components/ProxyDemo.vue","sourceRoot":"","sourcesContent":["<!-- \n    * 深入响应式原理 Proxy\n        * handler.get\n        * handler.set\n    * 对象操作, 为 proxy 量身定做\n        Reflect.get(target, PropertyKey, receiver)\n        Reflect.set(target, PropertyKey, newValue, receiver)\n-->\n<template>\n  <div class=\"proxy-demo\">\n    <span>person.name: {{ person.name }}</span> &nbsp;\n    <button @click=\"getAttr\">读取 proxy 属性</button> &nbsp;\n    <button @click=\"setAttr('chen xin')\">\n      设置 proxy 属性name 值为 chen xin\n    </button>\n    &nbsp;\n    <button @click=\"resetPerson\">重置 person name 属性</button>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive } from \"vue\";\nexport default defineComponent({\n  name: \"proxy-demo\",\n  setup() {\n    //  定义对象 person\n    const person = reactive({\n      name: \"Chen xin\",\n    });\n\n    //  Reflect.get 函数取值, Reflect.set 函数形式设置值, 为 Proxy 实例 handler 对象 量身定做\n    console.log('Reflect.get(person, \"name\") -> ', Reflect.get(person, \"name\"));\n    Reflect.set(person, \"name\", \"Chen Xin\");\n\n    //  proxy handler 对象\n    const handler = {\n      // target: any, prop: any, reciver: any\n      get(target: any, prop: any, reciver: any) {\n        console.log(\"get -- \", target, prop, reciver);\n        return target[prop];\n        // return Reflect.get(...arguments);\n      },\n      set(target: any, prop: any, newValue: any, reciver: any) {\n        console.log(\"set -- \", reciver, newValue);\n        target[prop] = newValue;\n        return true; //  表示设置成功\n      },\n    };\n    //  创建 proxy 实例,  绑定 person 进行侦听\n    const proxy = new Proxy(person, handler);\n\n    const handlerWithRefs = reactive({\n      //   重置 person\n      resetPerson() {\n        person.name = \"Chen xin\";\n      },\n      // 读取属性 proxy\n      getAttr() {\n        proxy.name;\n      },\n      //  设置 proxy 属性:name\n      setAttr(name: string) {\n        proxy.name = name;\n        console.log(\"proxy:\", proxy, \" person:\", person);\n      },\n    });\n\n    return {\n      person,\n      ...handlerWithRefs,\n    };\n  },\n});\n</script>"]}]}