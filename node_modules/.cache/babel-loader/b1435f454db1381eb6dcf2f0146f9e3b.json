{"remainingRequest":"/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/templateLoader.js??ref--6!/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/src/components/ProxyDemo.vue?vue&type=template&id=10fba61e","dependencies":[{"path":"/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/src/components/ProxyDemo.vue","mtime":1639026951100},{"path":"/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/babel.config.js","mtime":1638948676854},{"path":"/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jayB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAicHJveHktZGVtbyIKfTsKCnZhciBfaG9pc3RlZF8yID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIiDCoCAiKTsKCnZhciBfaG9pc3RlZF8zID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIiDCoCAiKTsKCnZhciBfaG9pc3RlZF80ID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIiDCoCAiKTsKCmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlKSB7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCAicGVyc29uLm5hbWU6ICIgKyBfdG9EaXNwbGF5U3RyaW5nKF9jdHgucGVyc29uLm5hbWUpLCAxCiAgLyogVEVYVCAqLwogICksIF9ob2lzdGVkXzIsIF9jcmVhdGVFbGVtZW50Vk5vZGUoImJ1dHRvbiIsIHsKICAgIG9uQ2xpY2s6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gX2N0eC5nZXRBdHRyICYmIF9jdHguZ2V0QXR0ci5hcHBseShfY3R4LCBhcmd1bWVudHMpOwogICAgfSkKICB9LCAi6K+75Y+WIHByb3h5IOWxnuaApyIpLCBfaG9pc3RlZF8zLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJidXR0b24iLCB7CiAgICBvbkNsaWNrOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuIF9jdHguc2V0QXR0cignY2hlbiB4aW4nKTsKICAgIH0pCiAgfSwgIiDorr7nva4gcHJveHkg5bGe5oCnbmFtZSDlgLzkuLogY2hlbiB4aW4gIiksIF9ob2lzdGVkXzQsIF9jcmVhdGVFbGVtZW50Vk5vZGUoImJ1dHRvbiIsIHsKICAgIG9uQ2xpY2s6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gX2N0eC5yZXNldFBlcnNvbiAmJiBfY3R4LnJlc2V0UGVyc29uLmFwcGx5KF9jdHgsIGFyZ3VtZW50cyk7CiAgICB9KQogIH0sICLph43nva4gcGVyc29uIG5hbWUg5bGe5oCnIildKTsKfQ=="},{"version":3,"sources":["/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/src/components/ProxyDemo.vue"],"names":[],"mappings":";;;AASO,EAAA,KAAK,EAAC;;;+CACkC,K;;+CACE,K;;+CAGpC,K;;;uBALX,mBAAA,CAQM,KARN,EAAA,UAAA,EAQM,CAPJ,mBAAA,CAA2C,MAA3C,EAA2C,IAA3C,EAAM,kBAAa,gBAAA,CAAG,IAAA,CAAA,MAAA,CAAO,IAAV,CAAnB,EAAiC;AAAA;AAAjC,GAOI,E,UAAA,EANJ,mBAAA,CAA6C,QAA7C,EAA6C;AAApC,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,IAAA,CAAA,OAAA,IAAA,IAAA,CAAA,OAAA,OAAA,IAAA,YAAF;AAAA,KAAA;AAA+B,GAA7C,EAAyB,aAAzB,CAMI,E,UAAA,EALJ,mBAAA,CAES,QAFT,EAES;AAFA,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAAE,IAAA,CAAA,OAAA,CAAO,UAAP,CAAF;AAAA,KAAA;AAEL,GAFT,EAAqC,+BAArC,CAKI,E,UAAA,EADJ,mBAAA,CAAuD,QAAvD,EAAuD;AAA9C,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,IAAA,CAAA,WAAA,IAAA,IAAA,CAAA,WAAA,OAAA,IAAA,YAAF;AAAA,KAAA;AAAyC,GAAvD,EAA6B,mBAA7B,CACI,CARN,C","sourcesContent":["<!-- \n    * 深入响应式原理 Proxy\n        * handler.get\n        * handler.set\n    * 对象操作, 为 proxy 量身定做\n        Reflect.get(target, PropertyKey, receiver)\n        Reflect.set(target, PropertyKey, newValue, receiver)\n-->\n<template>\n  <div class=\"proxy-demo\">\n    <span>person.name: {{ person.name }}</span> &nbsp;\n    <button @click=\"getAttr\">读取 proxy 属性</button> &nbsp;\n    <button @click=\"setAttr('chen xin')\">\n      设置 proxy 属性name 值为 chen xin\n    </button>\n    &nbsp;\n    <button @click=\"resetPerson\">重置 person name 属性</button>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive } from \"vue\";\nexport default defineComponent({\n  name: \"proxy-demo\",\n  setup() {\n    //  定义对象 person\n    const person = reactive({\n      name: \"Chen xin\",\n    });\n\n    //  Reflect.get 函数取值, Reflect.set 函数形式设置值, 为 Proxy 实例 handler 对象 量身定做\n    console.log('Reflect.get(person, \"name\") -> ', Reflect.get(person, \"name\"));\n    Reflect.set(person, \"name\", \"Chen Xin\");\n\n    //  proxy handler 对象\n    const handler = {\n      // target: any, prop: any, reciver: any\n      get(target: any, prop: any, reciver: any) {\n        console.log(\"get -- \", target, prop, reciver);\n        return target[prop];\n        // return Reflect.get(...arguments);\n      },\n      set(target: any, prop: any, newValue: any, reciver: any) {\n        console.log(\"set -- \", reciver, newValue);\n        target[prop] = newValue;\n        return true; //  表示设置成功\n      },\n    };\n    //  创建 proxy 实例,  绑定 person 进行侦听\n    const proxy = new Proxy(person, handler);\n\n    const handlerWithRefs = reactive({\n      //   重置 person\n      resetPerson() {\n        person.name = \"Chen xin\";\n      },\n      // 读取属性 proxy\n      getAttr() {\n        proxy.name;\n      },\n      //  设置 proxy 属性:name\n      setAttr(name: string) {\n        proxy.name = name;\n        console.log(\"proxy:\", proxy, \" person:\", person);\n      },\n    });\n\n    return {\n      person,\n      ...handlerWithRefs,\n    };\n  },\n});\n</script>"],"sourceRoot":""}]}