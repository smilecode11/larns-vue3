{"remainingRequest":"/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/src/components/WatchDemo.vue?vue&type=template&id=00313652","dependencies":[{"path":"/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/src/components/WatchDemo.vue","mtime":1639037451069},{"path":"/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0iZGVtbyI+CiAgICA8c3Bhbj53YXRjaCDnsr7noa7mjqfliLYgZWZmZWN0OiB7eyBjb3VudCB9fTwvc3Bhbj4gJm5ic3A7CiAgICA8YnV0dG9uIEBjbGljaz0iY291bnQrKyI+YWRkIGNvdW50PC9idXR0b24+IDxiciAvPgogICAgPHNwYW4+e3sgbXNnIH19PC9zcGFuPgogIDwvZGl2Pgo="},{"version":3,"sources":["/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/src/components/WatchDemo.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACjD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;IACjD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACvB,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/wupeng/Desktop/projects-study/learns/learn-vue3/learn-vue3_p2/src/components/WatchDemo.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"demo\">\n    <span>watch 精确控制 effect: {{ count }}</span> &nbsp;\n    <button @click=\"count++\">add count</button> <br />\n    <span>{{ msg }}</span>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, watch, toRefs } from \"vue\";\nexport default defineComponent({\n  name: \"wacth-demo\",\n  props: [\"msg\"],\n  setup(props: any) {\n    const count = ref(0);\n\n    //  watch 精确控制 count\n    watch(count, (newV, oldV) => {\n      console.log(\"- watch count -\");\n      console.log(\" newV:\", newV);\n      console.log(\" oldV:\", oldV);\n    });\n\n    //   1. 使用 toRefs 侦听来自 props 的属性\n    watch(toRefs(props).msg, (newV) => {\n      console.log(\"- toRefs props.msg -\", newV);\n    });\n\n    //  2. 使用 回调函数返回 props.attr 侦听来自 props 的属性\n    watch(\n      () => props.msg,\n      (newV, oldV) => {\n        console.log(\"- watch props.msg -\");\n        console.log(\" newV:\", newV);\n        console.log(\" oldV:\", oldV);\n      },\n      {\n        immediate: true,\n      }\n    );\n\n    //  3. 多值侦听, 首个参数设置成数组即可\n    watch([() => props.msg, count], (newV) => {\n      console.log(\"- watch array -\", newV);\n    });\n\n    return {\n      count,\n    };\n  },\n});\n</script>"]}]}